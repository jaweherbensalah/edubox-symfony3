{% extends '@EduBox/admin_layout.html.twig' %}
{% trans_default_domain 'EduBoxBundle' %}

{% set title = 'organisation'|trans %}

{% set about_tab_title = 'organisation.about' %}
{% set about_tab_content %}
    <div class="row">
        <div class="col-md-6">
            <div class="col-12">
                <div class="form-group {% if not org_form.shortName.vars.valid %}has-error{% endif %}">
                    {% include 'EduBoxBundle:Field:input.html.twig' with {'field':org_form.shortName} %}
                </div>
            </div>
            <div class="col-12">
                <div class="form-group {% if not org_form.fullName.vars.valid %}has-error{% endif %}">
                    {% include 'EduBoxBundle:Field:input.html.twig' with {'field':org_form.fullName, field_attr:{'style':'resize:vertical'}} %}
                </div>
            </div>
            <div class="col-12">
                <div class="form-group {% if not org_form.address.vars.valid %}has-error{% endif %}">
                    {% include 'EduBoxBundle:Field:input.html.twig' with {'field':org_form.address, field_attr:{'style':'resize:vertical'}} %}
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="col-12">
                <div class="form-group {% if not org_form.director.vars.valid %}has-error{% endif %}">
                    {% include 'EduBoxBundle:Field:input.html.twig' with {'field':org_form.director} %}
                </div>
            </div>
            <div class="col-12">
                <div class="form-group {% if not org_form.phone.vars.valid %}has-error{% endif %}">
                    {% include 'EduBoxBundle:Field:input.html.twig' with {'field':org_form.phone} %}
                </div>
            </div>
            <div class="col-12">
                <div class="form-group {% if not org_form.email.vars.valid %}has-error{% endif %}">
                    {% include 'EduBoxBundle:Field:input.html.twig' with {'field':org_form.email} %}
                </div>
            </div>
        </div>
    </div>
{% endset %}

{% set setting_tab_title = 'organisation.setting' %}
{% set setting_tab_content %}
    <div class="row">
        <div class="col-md-6">
            <div class="form-group {% if not org_form.smsApiId.vars.valid %}has-error{% endif %}">
                {% include 'EduBoxBundle:Field:input.html.twig' with {'field':org_form.smsApiId} %}
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group {% if not org_form.smsBalance.vars.valid %}has-error{% endif %}">
                {% include 'EduBoxBundle:Field:input.html.twig' with {'field':org_form.smsBalance} %}
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group {% if not org_form.smsBalance.vars.valid %}has-error{% endif %}">
                {% include 'EduBoxBundle:Field:input.html.twig' with {'field':org_form.smsEnabled} %}
            </div>
        </div>
    </div>
{% endset %}

{% block content %}
    {{ form_start(org_form) }}
    {% set tabs = {1:{'title':about_tab_title, 'content':about_tab_content, 'id': 'about'}} %}

    {% if (setting_tab_title is defined) %}
        {% set tabs = tabs + {2:{'title':setting_tab_title, 'content':setting_tab_content, 'id': 'setting'}} %}
    {% endif %}

    {% include 'EduBoxBundle:Block:box_tab.html.twig' with {
        'tabs': tabs,
    } only %}

    <div class="sonata-ba-form-actions well well-small form-actions">
        {% include 'EduBoxBundle:Field:input.html.twig' with {'field':org_form.submit,'field_attr':{'class':'btn btn-primary'}} %}
    </div>
    {{ form_end(org_form) }}
{% endblock %}