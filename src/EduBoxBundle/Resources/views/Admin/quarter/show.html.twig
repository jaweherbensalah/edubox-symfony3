{% extends 'EduBoxBundle::admin_layout.html.twig' %}

{% set title = 'Student quarters' %}
{% set float_match = '/^[-+]?[0-9]*\\.?[0-9]+$/' %}

{% set table_content %}
    <thead>
        <th>Subject</th>
        <th>Teacher</th>
        <th>Quarter 1</th>
        <th>Quarter 2</th>
        <th>Quarter 3</th>
        <th>Quarter 4</th>
    </thead>
    <tbody>
    {% for subject in subjectsWithQuarter %}
        <tr>
            <td>{{ subject['name'] }}</td>
            <td>{{ subject['teacher'] }}</td>
            <td>{% if subject['quarter'][1] matches float_match %} {{ subject['quarter'][1]|round }} {% else %} {{ subject['quarter'][1] }} {% endif %}</td>
            <td>{% if subject['quarter'][2] matches float_match %} {{ subject['quarter'][2]|round }} {% else %} {{ subject['quarter'][2] }} {% endif %}</td>
            <td>{% if subject['quarter'][3] matches float_match %} {{ subject['quarter'][3]|round }} {% else %} {{ subject['quarter'][3] }} {% endif %}</td>
            <td>{% if subject['quarter'][4] matches float_match %} {{ subject['quarter'][4]|round }} {% else %} {{ subject['quarter'][4] }} {% endif %}</td>
        </tr>
    {% endfor %}
    </tbody>
{% endset %}

{% block content %}
    {% include '@EduBox/Block/box_table.html.twig' with {'table_content': table_content, 'box_title': ('<strong> Student: </strong>'~student.fullname)} only %}
{% endblock %}